@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@layer base {
  @font-face {
    font-family: "Vogue";
    src: url("/fonts/Vogue-Regular.woff2") format("woff2");
    src: url("/fonts/Vogue-Regular.woff") format("woff");
  }

  @font-face {
    font-family: "Coolvetica-Regular";
    src: url("/fonts/Coolvetica-Regular.woff2") format("woff2");
    src: url("/fonts/Coolvetica-Regular.woff") format("woff");
  }

  @font-face {
    font-family: "Coolvetica-Cond";
    src: url("/fonts/Coolvetica-Cond.woff2") format("woff2");
    src: url("/fonts/Coolvetica-Cond.woff") format("woff");
  }

  @font-face {
    font-family: "GreaterTheoryRegular";
    src: url("/fonts/GreaterTheoryRegular.woff2") format("woff2");
    src: url("/fonts/GreaterTheoryRegular.woff") format("woff");
  }

  @font-face {
    font-family: "InknutAntiqua-SemiBold";
    src: url("/fonts/InknutAntiqua-SemiBold.woff2") format("woff2");
    src: url("/fonts/InknutAntiqua-SemiBold.woff") format("woff");
  }

  @font-face {
    font-family: "InriaSerif-Bold";
    src: url("/fonts/InriaSerif-Bold.woff2") format("woff2");
    src: url("/fonts/InriaSerif-Bold.woff") format("woff");
  }

  @font-face {
    font-family: "AkiraExpanded-SuperBold";
    src: url("/fonts/AkiraExpanded-SuperBold.woff2") format("woff2");
    src: url("/fonts/AkiraExpanded-SuperBold.woff") format("woff");
  }
}

@theme {
  --font-vogue: Vogue, sans-serif;
  --font-coolvetica: "Coolvetica-Regular", sans-serif;
  --font-coolvetica-cond: "Coolvetica-Cond", sans-serif;
  --font-greater-theory: "GreaterTheoryRegular", sans-serif;
  --font-inknut-semibold: "InknutAntiqua-SemiBold", sans-serif;
  --font-inria-bold: "InriaSerif-Bold", serif;
  --font-akira-expanded: "AkiraExpanded-SuperBold", sans-serif;
  --color-primary: #111111;
  --color-pink: #ffb8e5;
}

button {
  cursor: pointer;
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
  overflow-x: hidden;
}

/* Button */
.button-gradient {
  position: relative;
  overflow: hidden;
  color: black;
  z-index: 0;
  border: 1px solid black;
  background-color: transparent;
  transition: color 0.3s ease;
}

.button-gradient::before {
  content: "";
  position: absolute;
  inset: 0;
  z-index: -1;
  opacity: 0;
  transition: opacity 0.4s ease;
}

.button-gradient:hover::before,
.button-gradient.selected::before {
  opacity: 1;
}

/* Gradient layers */
.btn-chocolat::before {
  background: linear-gradient(to top right, #845429, #502e11);
}
.btn-carrot::before {
  background: linear-gradient(to top right, #fd7626, #b54b0c);
}
.btn-pistache::before {
  background: linear-gradient(to top right, #24631c, #288e1b);
}
.btn-citron::before {
  background: linear-gradient(to top right, #fff36e, #d5c400);
}
.btn-caramel::before {
  background: linear-gradient(to top right, #aa6b13, #6e460e);
}
.btn-marbre::before {
  background: linear-gradient(to top right, #b78c67, #7f5d3f);
}

/* Optional white text on selection */
.btn-chocolat:hover,
.btn-chocolat.selected,
.btn-pistache:hover,
.btn-pistache.selected,
.btn-caramel:hover,
.btn-caramel.selected {
  color: white;
}

/* Pulse */
@keyframes pulse-scale {
  0%,
  100% {
    transform: scale(1);
  }
  50% {
    transform: scale(0.9); /* smaller at midpoint */
  }
}

.animate-pulse-scale {
  animation: pulse-scale 1.8s ease-in-out infinite;
}

/* Link underline */
.link-underline {
  position: relative;
  display: inline-block;
  overflow: hidden;
}

.link-underline::after {
  content: "";
  position: absolute;
  bottom: 0;
  left: 0;
  width: 0%;
  height: 1px;
  background: currentColor;
  transition: width 0.4s ease;
}

.link-underline:hover::after {
  width: 100%;
}

.link-underline.selected::after {
  width: 100%;
}

/* frame pink black */
.select-frame {
  position: relative;
  width: 100%;
  height: 100%;
}

.select-frame::before,
.select-frame::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  background-repeat: no-repeat;
}

.select-frame::before {
  background-image:
    /* Corners: black lines */ linear-gradient(to right, black 10px, transparent 10px),
    linear-gradient(to bottom, black 10px, transparent 10px), linear-gradient(to left, black 10px, transparent 10px),
    linear-gradient(to bottom, black 10px, transparent 10px), linear-gradient(to right, black 10px, transparent 10px),
    linear-gradient(to top, black 10px, transparent 10px), linear-gradient(to left, black 10px, transparent 10px),
    linear-gradient(to top, black 10px, transparent 10px);

  background-position: top left, top left, top right, top right, bottom left, bottom left, bottom right, bottom right;

  background-size: 20px 1px, /* top-left horizontal */ 1px 20px, /* top-left vertical */ 20px 1px,
    /* top-right horizontal */ 1px 20px, /* top-right vertical */ 20px 1px, /* bottom-left horizontal */ 1px 20px,
    /* bottom-left vertical */ 20px 1px, /* bottom-right horizontal */ 1px 20px; /* bottom-right vertical */
}

.select-frame::after {
  background-image:
    /* Corner: pink overlays */ linear-gradient(to right, #f9b6d4 20px, transparent 0),
    linear-gradient(to bottom, #f9b6d4 20px, transparent 0), linear-gradient(to left, #f9b6d4 20px, transparent 0),
    linear-gradient(to bottom, #f9b6d4 20px, transparent 0), linear-gradient(to right, #f9b6d4 20px, transparent 0),
    linear-gradient(to top, #f9b6d4 20px, transparent 0), linear-gradient(to left, #f9b6d4 20px, transparent 0),
    linear-gradient(to top, #f9b6d4 20px, transparent 0),
    /* Side accents (middle of each edge) */ linear-gradient(to right, #f9b6d4 30px, transparent 0),
    linear-gradient(to right, #f9b6d4 30px, transparent 0), linear-gradient(to bottom, #f9b6d4 30px, transparent 0),
    linear-gradient(to bottom, #f9b6d4 30px, transparent 0);

  background-position: top left, top left, top right, top right, bottom left, bottom left, bottom right, bottom right,
    top center, bottom center, left center, right center;

  background-size: 20px 1px, 1px 20px, 20px 1px, 1px 20px, 20px 1px, 1px 20px, 20px 1px, 1px 20px, 30px 1px, 30px 1px,
    1px 30px, 1px 30px;
}

/* pulse */
@keyframes strong-pulse {
  0%,
  100% {
    opacity: 0;
    transform: scale(0.98);
  }
  50% {
    opacity: 1;
    transform: scale(1.02);
  }
}

.strong-pulse {
  animation: strong-pulse 2s ease-in-out infinite;
}

/* text animation */
:root {
  --f-size: 15;
  --f-unit: 1vmin;
  --f: calc(var(--f-size) * var(--f-unit));
}

*,
*::after,
*::before {
  box-sizing: border-box;
}

p {
  margin: auto;
  color: #ffffff;
  text-align: center;
  transform: scaleX(var(--scale, 1));
  animation: glitch-p 2s infinite alternate;

  &::before,
  &::after {
    --top: 0;
    --left: 0;
    --v-height: 30%;

    --n-tenth: calc(var(--f-size) * 0.1 * var(--top));
    --t-cut: calc(var(--n-tenth) / var(--f-size) * 100%);
    --b-cut: calc(var(--t-cut) + var(--v-height));

    content: attr(data-text);
    position: absolute;
    width: 100%;
    left: 0;
    text-align: center;

    transform: translateX(calc(var(--left) * 100%));

    filter: drop-shadow(0 0 transparent);

    text-shadow: calc(var(--left) * -3em) 0 0.02em rgb(255, 255, 255), calc(var(--left) * -6em) 0 0.02em #ffffff;

    background-color: var(--bg);
    clip-path: polygon(0% var(--t-cut), 100% var(--t-cut), 100% var(--b-cut), 0% var(--b-cut));
  }

  &::before {
    animation: glitch-b 1.7s infinite alternate-reverse;
  }
  &::after {
    animation: glitch-a 3.1s infinite alternate;
  }
}

@keyframes glitch-p {
  17% {
    --scale: 0.87;
  }
  31% {
    --scale: 1.1;
  }
  37% {
    --scale: 1.3;
  }
  47% {
    --scale: 0.91;
  }
  87% {
    --scale: 1;
  }
}

@keyframes glitch-a {
  10%,
  30%,
  50%,
  70%,
  90% {
    --top: 0;
    --left: 0;
  }
  0% {
    --v-height: 15%;
  }
  20% {
    --left: 0.005;
  }
  40% {
    --left: 0.01;
    --v-height: 20%;
    --top: 3;
  }
  60% {
    --left: 0.03;
    --v-height: 25%;
    --top: 6;
  }
  80% {
    --left: 0.07;
    --v-height: 5%;
    --top: 8;
  }
  100% {
    --left: 0.083;
    --v-height: 30%;
    --top: 1;
  }
}

@keyframes glitch-b {
  10%,
  30%,
  50%,
  70%,
  90% {
    --top: 0;
    --left: 0;
  }
  0% {
    --v-height: 15%;
    --top: 10;
  }
  20% {
    --left: -0.005;
  }
  40% {
    --left: -0.01;
    --v-height: 17%;
    --top: 3;
  }
  60% {
    --left: -0.03;
    --v-height: 35%;
    --top: 6;
  }
  80% {
    --left: -0.07;
    --v-height: 5%;
    --top: 8;
  }
  100% {
    --left: -0.083;
    --v-height: 30%;
    --top: 1;
  }
}
